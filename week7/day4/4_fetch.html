<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    // fetch 是es8新增的请求方式； 属于浏览器的内置API;
    // 可以用 pollify 解决兼容性；
    let url = 'https://help.souyidai.com/fragment/invest_index.json';
    fetch(url,{
        method:'get',
        credentials: 'include' ,
        // 带着cookie过去  include 跨域的cookie也能带； same-origin: 同域
        //  omit不带任何cookie
    }).then((data)=>{
        console.log(data);
        // 请求成功或者失败  需要 我们自己做判断
        if(data.status != 200){
            throw Error('请求失败')
        }
        return data.json();
    }).then((data)=>{
        console.log(data)
    },(err)=>{
        console.log(err)
    })

    let url2 = ' https://www.easy-mock.com/mock/5b8f8ee9f9900e4a46af75fc/test/zf';
    fetch(url2,{
        method:'post',
        credentials: 'include' ,
        body:'a=12', // 需要是一个字符串 传给后台的参数
        headers:{
            //设置请求头
            'content-type':'application/x-www-form-urlencoded'
        }
    }).then((data)=>{
        console.log(data);
        return data.json()
    })
</script>